{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Python MCP Template A DevOps-friendly template for building MCP servers from markdown templates \ud83d\ude80 Core Idea Transform markdown templates (like GitHub Issue templates) into MCP tools automatically. Write a template once, get both a FastAPI endpoint and an MCP tool. \ud83c\udfd7\ufe0f Architecture mcp_tools/ \u251c\u2500\u2500 models.py # Data models (Template, TemplateVariable) \u251c\u2500\u2500 loader.py # Load templates from files, directories, URLs \u251c\u2500\u2500 parser.py # Extract variables & render with Jinja2 \u251c\u2500\u2500 generator.py # Create FastAPI endpoints dynamically \u2514\u2500\u2500 server.py # FastMCP server with CORS How it works: 1. Load - Fetch templates from local files, directories, or URLs 2. Parse - Extract <variables> and metadata from YAML frontmatter 3. Generate - Create typed FastAPI endpoints with Pydantic models 4. Serve - Expose as both REST API ( /api/docs ) and MCP tools ( /mcp ) \ud83c\udf1f Features Auto-generate MCP tools from markdown templates Multiple sources - Load from local files, directories, or URLs Swagger UI - Test endpoints at /api/docs Docker ready - Production-ready container setup CI/CD - GitHub Actions for automated workflows \ud83d\udee0\ufe0f Getting Started Local Development Install dependencies: bash uv sync Run the MCP server: bash uv run uvicorn mcp_tools.main:starlette_app --host 127.0.0.1 --port 8000 Docker Build the Docker image: bash docker build -t mcp-markdown-template:latest . Run the container with various template sources: bash # Mount local templates directory docker run -i --rm -p 8000:8000 \\ -v /path/to/your/templates:/app/templates \\ -e MCP_TEMPLATES_SOURCE=/app/templates \\ mcp-markdown-template:latest bash # Load from URL (GitHub raw URL) docker run -i --rm -p 8000:8000 \\ -e MCP_TEMPLATES_SOURCE=https://raw.githubusercontent.com/hsiangjenli/mcp-yaml-to-markdown/refs/heads/main/.github/ISSUE_TEMPLATE/demo.md \\ mcp-markdown-template:latest bash # Multiple sources (comma-separated) docker run -i --rm -p 8000:8000 \\ -e MCP_TEMPLATES_SOURCE=\"/app/templates,https://raw.githubusercontent.com/owner/repo/main/template.md\" \\ -v /path/to/local/templates:/app/templates \\ mcp-markdown-template:latest MCP Server configuration (for Claude Desktop, etc.): json { \"mcpServers\": { \"mcp-markdown-template\": { \"url\": \"http://localhost:8000/mcp\" } } } Template Sources Format Example Local directory /path/to/templates/ Local file /path/to/template.md URL https://raw.githubusercontent.com/.../template.md Multiple source1,source2 (comma-separated) Environment Variables Variable Default MCP_TITLE Python MCP Template MCP_DESCRIPTION A template for creating MCP-compliant FastAPI MCP_TEMPLATES_SOURCE .github/ISSUE_TEMPLATE \ud83d\udcda Documentation Build docs locally: scripts/build_docs.sh && mkdocs build","title":"Home"},{"location":"#core-idea","text":"Transform markdown templates (like GitHub Issue templates) into MCP tools automatically. Write a template once, get both a FastAPI endpoint and an MCP tool.","title":"\ud83d\ude80 Core Idea"},{"location":"#architecture","text":"mcp_tools/ \u251c\u2500\u2500 models.py # Data models (Template, TemplateVariable) \u251c\u2500\u2500 loader.py # Load templates from files, directories, URLs \u251c\u2500\u2500 parser.py # Extract variables & render with Jinja2 \u251c\u2500\u2500 generator.py # Create FastAPI endpoints dynamically \u2514\u2500\u2500 server.py # FastMCP server with CORS How it works: 1. Load - Fetch templates from local files, directories, or URLs 2. Parse - Extract <variables> and metadata from YAML frontmatter 3. Generate - Create typed FastAPI endpoints with Pydantic models 4. Serve - Expose as both REST API ( /api/docs ) and MCP tools ( /mcp )","title":"\ud83c\udfd7\ufe0f Architecture"},{"location":"#features","text":"Auto-generate MCP tools from markdown templates Multiple sources - Load from local files, directories, or URLs Swagger UI - Test endpoints at /api/docs Docker ready - Production-ready container setup CI/CD - GitHub Actions for automated workflows","title":"\ud83c\udf1f Features"},{"location":"#getting-started","text":"","title":"\ud83d\udee0\ufe0f Getting Started"},{"location":"#local-development","text":"Install dependencies: bash uv sync Run the MCP server: bash uv run uvicorn mcp_tools.main:starlette_app --host 127.0.0.1 --port 8000","title":"Local Development"},{"location":"#docker","text":"Build the Docker image: bash docker build -t mcp-markdown-template:latest . Run the container with various template sources: bash # Mount local templates directory docker run -i --rm -p 8000:8000 \\ -v /path/to/your/templates:/app/templates \\ -e MCP_TEMPLATES_SOURCE=/app/templates \\ mcp-markdown-template:latest bash # Load from URL (GitHub raw URL) docker run -i --rm -p 8000:8000 \\ -e MCP_TEMPLATES_SOURCE=https://raw.githubusercontent.com/hsiangjenli/mcp-yaml-to-markdown/refs/heads/main/.github/ISSUE_TEMPLATE/demo.md \\ mcp-markdown-template:latest bash # Multiple sources (comma-separated) docker run -i --rm -p 8000:8000 \\ -e MCP_TEMPLATES_SOURCE=\"/app/templates,https://raw.githubusercontent.com/owner/repo/main/template.md\" \\ -v /path/to/local/templates:/app/templates \\ mcp-markdown-template:latest MCP Server configuration (for Claude Desktop, etc.): json { \"mcpServers\": { \"mcp-markdown-template\": { \"url\": \"http://localhost:8000/mcp\" } } }","title":"Docker"},{"location":"#template-sources","text":"Format Example Local directory /path/to/templates/ Local file /path/to/template.md URL https://raw.githubusercontent.com/.../template.md Multiple source1,source2 (comma-separated)","title":"Template Sources"},{"location":"#environment-variables","text":"Variable Default MCP_TITLE Python MCP Template MCP_DESCRIPTION A template for creating MCP-compliant FastAPI MCP_TEMPLATES_SOURCE .github/ISSUE_TEMPLATE","title":"Environment Variables"},{"location":"#documentation","text":"Build docs locally: scripts/build_docs.sh && mkdocs build","title":"\ud83d\udcda Documentation"},{"location":"reference/endpoints/","text":"API Endpoints Version: 0.1.0 A template for creating MCP-compliant FastAPI /create_this_is_an_demo POST Summary: \ud83e\udd16 This is an demo Description: A demo markdown template Request Body: Content-Type: application/json Schema: CreateThisIsAnDemoInput Responses: 200 : Successful Response Content-Type: application/json Schema: string 422 : Validation Error Content-Type: application/json Schema: HTTPValidationError","title":"Endpoint"},{"location":"reference/endpoints/#api-endpoints","text":"Version: 0.1.0 A template for creating MCP-compliant FastAPI","title":"API Endpoints"},{"location":"reference/endpoints/#create_this_is_an_demo","text":"","title":"/create_this_is_an_demo"},{"location":"reference/endpoints/#post","text":"Summary: \ud83e\udd16 This is an demo Description: A demo markdown template Request Body: Content-Type: application/json Schema: CreateThisIsAnDemoInput Responses: 200 : Successful Response Content-Type: application/json Schema: string 422 : Validation Error Content-Type: application/json Schema: HTTPValidationError","title":"POST"},{"location":"reference/generator/","text":"Generator mcp_tools.generator Generate FastAPI endpoints from templates. register_template ( app , template , * , tool_name = None , remove_comments = True ) Register a template as a FastAPI endpoint. Parameters: app ( FastAPI ) \u2013 FastAPI application template ( Template ) \u2013 Parsed template tool_name ( str | None , default: None ) \u2013 Custom endpoint name (default: derived from template name) remove_comments ( bool , default: True ) \u2013 Whether to remove HTML comments in output Source code in mcp_tools/generator.py 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 def register_template ( app : FastAPI , template : Template , * , tool_name : str | None = None , remove_comments : bool = True , ) -> None : \"\"\" Register a template as a FastAPI endpoint. Args: app: FastAPI application template: Parsed template tool_name: Custom endpoint name (default: derived from template name) remove_comments: Whether to remove HTML comments in output \"\"\" # Parse template if not already parsed if not template . variables : template = parse ( template ) # Generate tool name name = tool_name or f \"create_ { _slugify ( template . name ) } \" description = template . about or f \"Create content from { template . name } template\" # Create input model InputModel = _create_input_model ( name , template ) # Capture in closure _template = template _remove_comments = remove_comments async def endpoint ( input_data : InputModel ) -> str : # type: ignore[valid-type] return render ( _template , input_data . model_dump (), remove_comments = _remove_comments ) # Set metadata endpoint . __name__ = name endpoint . __doc__ = description # Register endpoint app . post ( f \"/ { name } \" , name = name , description = description , summary = template . name or name , tags = [ \"Template Tools\" ], )( endpoint )","title":"Generator"},{"location":"reference/generator/#generator","text":"","title":"Generator"},{"location":"reference/generator/#mcp_tools.generator","text":"Generate FastAPI endpoints from templates.","title":"generator"},{"location":"reference/generator/#mcp_tools.generator.register_template","text":"Register a template as a FastAPI endpoint. Parameters: app ( FastAPI ) \u2013 FastAPI application template ( Template ) \u2013 Parsed template tool_name ( str | None , default: None ) \u2013 Custom endpoint name (default: derived from template name) remove_comments ( bool , default: True ) \u2013 Whether to remove HTML comments in output Source code in mcp_tools/generator.py 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 def register_template ( app : FastAPI , template : Template , * , tool_name : str | None = None , remove_comments : bool = True , ) -> None : \"\"\" Register a template as a FastAPI endpoint. Args: app: FastAPI application template: Parsed template tool_name: Custom endpoint name (default: derived from template name) remove_comments: Whether to remove HTML comments in output \"\"\" # Parse template if not already parsed if not template . variables : template = parse ( template ) # Generate tool name name = tool_name or f \"create_ { _slugify ( template . name ) } \" description = template . about or f \"Create content from { template . name } template\" # Create input model InputModel = _create_input_model ( name , template ) # Capture in closure _template = template _remove_comments = remove_comments async def endpoint ( input_data : InputModel ) -> str : # type: ignore[valid-type] return render ( _template , input_data . model_dump (), remove_comments = _remove_comments ) # Set metadata endpoint . __name__ = name endpoint . __doc__ = description # Register endpoint app . post ( f \"/ { name } \" , name = name , description = description , summary = template . name or name , tags = [ \"Template Tools\" ], )( endpoint )","title":"register_template"},{"location":"reference/loader/","text":"Loader mcp_tools.loader Load templates from various sources (local files, directories, URLs). fetch_url ( url , timeout = 30 ) Fetch content from a URL. Source code in mcp_tools/loader.py 17 18 19 20 21 22 def fetch_url ( url : str , timeout : int = 30 ) -> str : \"\"\"Fetch content from a URL.\"\"\" with httpx . Client ( follow_redirects = True , timeout = timeout ) as client : response = client . get ( url ) response . raise_for_status () return response . text is_url ( source ) Check if source is a URL. Source code in mcp_tools/loader.py 11 12 13 14 def is_url ( source : str ) -> bool : \"\"\"Check if source is a URL.\"\"\" parsed = urlparse ( source ) return parsed . scheme in ( \"http\" , \"https\" ) load ( source , pattern = '*.md' ) Load templates from a source. Supports: - URL: https://example.com/template.md - Local file: /path/to/template.md - Local directory: /path/to/templates/ Parameters: source ( str ) \u2013 Path or URL to load from pattern ( str , default: '*.md' ) \u2013 Glob pattern for directories (default: \"*.md\") Yields: Template \u2013 Template objects Source code in mcp_tools/loader.py 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 def load ( source : str , pattern : str = \"*.md\" ) -> Iterator [ Template ]: \"\"\" Load templates from a source. Supports: - URL: https://example.com/template.md - Local file: /path/to/template.md - Local directory: /path/to/templates/ Args: source: Path or URL to load from pattern: Glob pattern for directories (default: \"*.md\") Yields: Template objects \"\"\" if is_url ( source ): yield load_from_url ( source ) return path = Path ( source ) if path . is_file (): yield load_from_path ( path ) elif path . is_dir (): yield from load_from_directory ( path , pattern ) else : raise ValueError ( f \"Invalid source: { source } \" ) load_from_directory ( directory , pattern = '*.md' ) Load all templates from a directory. Source code in mcp_tools/loader.py 46 47 48 49 50 def load_from_directory ( directory : Path , pattern : str = \"*.md\" ) -> Iterator [ Template ]: \"\"\"Load all templates from a directory.\"\"\" for path in directory . glob ( pattern ): if path . is_file (): yield load_from_path ( path ) load_from_path ( path ) Load a template from a local file. Source code in mcp_tools/loader.py 25 26 27 28 29 30 31 def load_from_path ( path : Path ) -> Template : \"\"\"Load a template from a local file.\"\"\" return Template ( name = path . stem , content = path . read_text ( encoding = \"utf-8\" ), source = str ( path ), ) load_from_url ( url ) Load a template from a URL. Source code in mcp_tools/loader.py 34 35 36 37 38 39 40 41 42 43 def load_from_url ( url : str ) -> Template : \"\"\"Load a template from a URL.\"\"\" parsed = urlparse ( url ) name = Path ( parsed . path ) . stem or \"template\" return Template ( name = name , content = fetch_url ( url ), source = url , )","title":"Loader"},{"location":"reference/loader/#loader","text":"","title":"Loader"},{"location":"reference/loader/#mcp_tools.loader","text":"Load templates from various sources (local files, directories, URLs).","title":"loader"},{"location":"reference/loader/#mcp_tools.loader.fetch_url","text":"Fetch content from a URL. Source code in mcp_tools/loader.py 17 18 19 20 21 22 def fetch_url ( url : str , timeout : int = 30 ) -> str : \"\"\"Fetch content from a URL.\"\"\" with httpx . Client ( follow_redirects = True , timeout = timeout ) as client : response = client . get ( url ) response . raise_for_status () return response . text","title":"fetch_url"},{"location":"reference/loader/#mcp_tools.loader.is_url","text":"Check if source is a URL. Source code in mcp_tools/loader.py 11 12 13 14 def is_url ( source : str ) -> bool : \"\"\"Check if source is a URL.\"\"\" parsed = urlparse ( source ) return parsed . scheme in ( \"http\" , \"https\" )","title":"is_url"},{"location":"reference/loader/#mcp_tools.loader.load","text":"Load templates from a source. Supports: - URL: https://example.com/template.md - Local file: /path/to/template.md - Local directory: /path/to/templates/ Parameters: source ( str ) \u2013 Path or URL to load from pattern ( str , default: '*.md' ) \u2013 Glob pattern for directories (default: \"*.md\") Yields: Template \u2013 Template objects Source code in mcp_tools/loader.py 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 def load ( source : str , pattern : str = \"*.md\" ) -> Iterator [ Template ]: \"\"\" Load templates from a source. Supports: - URL: https://example.com/template.md - Local file: /path/to/template.md - Local directory: /path/to/templates/ Args: source: Path or URL to load from pattern: Glob pattern for directories (default: \"*.md\") Yields: Template objects \"\"\" if is_url ( source ): yield load_from_url ( source ) return path = Path ( source ) if path . is_file (): yield load_from_path ( path ) elif path . is_dir (): yield from load_from_directory ( path , pattern ) else : raise ValueError ( f \"Invalid source: { source } \" )","title":"load"},{"location":"reference/loader/#mcp_tools.loader.load_from_directory","text":"Load all templates from a directory. Source code in mcp_tools/loader.py 46 47 48 49 50 def load_from_directory ( directory : Path , pattern : str = \"*.md\" ) -> Iterator [ Template ]: \"\"\"Load all templates from a directory.\"\"\" for path in directory . glob ( pattern ): if path . is_file (): yield load_from_path ( path )","title":"load_from_directory"},{"location":"reference/loader/#mcp_tools.loader.load_from_path","text":"Load a template from a local file. Source code in mcp_tools/loader.py 25 26 27 28 29 30 31 def load_from_path ( path : Path ) -> Template : \"\"\"Load a template from a local file.\"\"\" return Template ( name = path . stem , content = path . read_text ( encoding = \"utf-8\" ), source = str ( path ), )","title":"load_from_path"},{"location":"reference/loader/#mcp_tools.loader.load_from_url","text":"Load a template from a URL. Source code in mcp_tools/loader.py 34 35 36 37 38 39 40 41 42 43 def load_from_url ( url : str ) -> Template : \"\"\"Load a template from a URL.\"\"\" parsed = urlparse ( url ) name = Path ( parsed . path ) . stem or \"template\" return Template ( name = name , content = fetch_url ( url ), source = url , )","title":"load_from_url"},{"location":"reference/models/","text":"Data Models This page contains all the data models used in the API. CreateThisIsAnDemoInput Schema: { \"title\": string (required) // Issue title \"current_behavior\": string (required) // Current Behavior: A concise description of what you're experiencing. \"expected_behavior\": string (required) // Expected Behavior: A concise description of what you expected to happen. \"steps_to_reproduce\": string (required) // Steps To Reproduce Example: steps to reproduce the behavior: 1. In this environment... 1. With this config... 1. Run '...' 1. See error... \"environment\": string (required) // Environment Example: - OS: Ubuntu 20.04 - Node: 13.14.0 - npm: 7.6.3 \"anything_else\": string (required) // Anything else: Links? References? Anything that will give us more context about the issue that you are encountering! } Properties: title (required) : string Description: Issue title current_behavior (required) : string Description: Current Behavior: A concise description of what you're experiencing. expected_behavior (required) : string Description: Expected Behavior: A concise description of what you expected to happen. steps_to_reproduce (required) : string Description: Steps To Reproduce Example: steps to reproduce the behavior: 1. In this environment... 1. With this config... 1. Run '...' 1. See error... environment (required) : string Description: Environment Example: - OS: Ubuntu 20.04 - Node: 13.14.0 - npm: 7.6.3 anything_else (required) : string Description: Anything else: Links? References? Anything that will give us more context about the issue that you are encountering! HTTPValidationError Schema: { \"detail\": [ValidationError] // } Properties: detail : [ValidationError] ValidationError Schema: { \"loc\": [unknown] (required) // \"msg\": string (required) // \"type\": string (required) // } Properties: loc (required) : [unknown] msg (required) : string type (required) : string","title":"Models"},{"location":"reference/models/#data-models","text":"This page contains all the data models used in the API.","title":"Data Models"},{"location":"reference/models/#createthisisandemoinput","text":"Schema: { \"title\": string (required) // Issue title \"current_behavior\": string (required) // Current Behavior: A concise description of what you're experiencing. \"expected_behavior\": string (required) // Expected Behavior: A concise description of what you expected to happen. \"steps_to_reproduce\": string (required) // Steps To Reproduce Example: steps to reproduce the behavior: 1. In this environment... 1. With this config... 1. Run '...' 1. See error... \"environment\": string (required) // Environment Example: - OS: Ubuntu 20.04 - Node: 13.14.0 - npm: 7.6.3 \"anything_else\": string (required) // Anything else: Links? References? Anything that will give us more context about the issue that you are encountering! } Properties: title (required) : string Description: Issue title current_behavior (required) : string Description: Current Behavior: A concise description of what you're experiencing. expected_behavior (required) : string Description: Expected Behavior: A concise description of what you expected to happen. steps_to_reproduce (required) : string Description: Steps To Reproduce Example: steps to reproduce the behavior: 1. In this environment... 1. With this config... 1. Run '...' 1. See error... environment (required) : string Description: Environment Example: - OS: Ubuntu 20.04 - Node: 13.14.0 - npm: 7.6.3 anything_else (required) : string Description: Anything else: Links? References? Anything that will give us more context about the issue that you are encountering!","title":"CreateThisIsAnDemoInput"},{"location":"reference/models/#httpvalidationerror","text":"Schema: { \"detail\": [ValidationError] // } Properties: detail : [ValidationError]","title":"HTTPValidationError"},{"location":"reference/models/#validationerror","text":"Schema: { \"loc\": [unknown] (required) // \"msg\": string (required) // \"type\": string (required) // } Properties: loc (required) : [unknown] msg (required) : string type (required) : string","title":"ValidationError"},{"location":"reference/parser/","text":"Parser mcp_tools.parser Parse markdown templates and extract variables. parse ( template ) Parse a template and extract variables with their metadata. Parameters: template ( Template ) \u2013 Template with raw content Returns: Template \u2013 Template with parsed variables, name, and about Source code in mcp_tools/parser.py 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 def parse ( template : Template ) -> Template : \"\"\" Parse a template and extract variables with their metadata. Args: template: Template with raw content Returns: Template with parsed variables, name, and about \"\"\" content = template . content frontmatter = _extract_frontmatter ( content ) sections = _extract_sections ( content ) # Find unique variables (preserve order) var_names = list ( dict . fromkeys ( VARIABLE_PATTERN . findall ( content ))) # Extract info for each variable variables = [ _extract_variable_info ( name , sections , content ) for name in var_names ] return Template ( name = frontmatter . get ( \"name\" , template . name ), about = frontmatter . get ( \"about\" , \"\" ), content = content , source = template . source , variables = variables , ) render ( template , values , remove_comments = True ) Render a template with the given values. Parameters: template ( Template ) \u2013 Parsed template values ( dict [ str , str ] ) \u2013 Variable values to substitute remove_comments ( bool , default: True ) \u2013 Whether to remove HTML comments Returns: str \u2013 Rendered markdown string Source code in mcp_tools/parser.py 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 def render ( template : Template , values : dict [ str , str ], remove_comments : bool = True ) -> str : \"\"\" Render a template with the given values. Args: template: Parsed template values: Variable values to substitute remove_comments: Whether to remove HTML comments Returns: Rendered markdown string \"\"\" content = template . content # Temporarily replace comments to avoid Jinja2 parsing issues comments : list [ str ] = [] def save_comment ( match : re . Match ) -> str : comments . append ( match . group ( 0 )) return f \"__COMMENT_ { len ( comments ) - 1 } __\" escaped = COMMENT_PATTERN . sub ( save_comment , content ) # Render with custom delimiters for <variable> syntax env = Environment ( undefined = StrictUndefined , autoescape = False , keep_trailing_newline = True , variable_start_string = \"<\" , variable_end_string = \">\" , ) rendered = env . from_string ( escaped ) . render ( ** values ) # Handle comments if remove_comments : rendered = re . sub ( r \"__COMMENT_\\d+__\\s*\\n?\" , \"\" , rendered ) else : for i , comment in enumerate ( comments ): rendered = rendered . replace ( f \"__COMMENT_ { i } __\" , comment ) return rendered","title":"Parser"},{"location":"reference/parser/#parser","text":"","title":"Parser"},{"location":"reference/parser/#mcp_tools.parser","text":"Parse markdown templates and extract variables.","title":"parser"},{"location":"reference/parser/#mcp_tools.parser.parse","text":"Parse a template and extract variables with their metadata. Parameters: template ( Template ) \u2013 Template with raw content Returns: Template \u2013 Template with parsed variables, name, and about Source code in mcp_tools/parser.py 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 def parse ( template : Template ) -> Template : \"\"\" Parse a template and extract variables with their metadata. Args: template: Template with raw content Returns: Template with parsed variables, name, and about \"\"\" content = template . content frontmatter = _extract_frontmatter ( content ) sections = _extract_sections ( content ) # Find unique variables (preserve order) var_names = list ( dict . fromkeys ( VARIABLE_PATTERN . findall ( content ))) # Extract info for each variable variables = [ _extract_variable_info ( name , sections , content ) for name in var_names ] return Template ( name = frontmatter . get ( \"name\" , template . name ), about = frontmatter . get ( \"about\" , \"\" ), content = content , source = template . source , variables = variables , )","title":"parse"},{"location":"reference/parser/#mcp_tools.parser.render","text":"Render a template with the given values. Parameters: template ( Template ) \u2013 Parsed template values ( dict [ str , str ] ) \u2013 Variable values to substitute remove_comments ( bool , default: True ) \u2013 Whether to remove HTML comments Returns: str \u2013 Rendered markdown string Source code in mcp_tools/parser.py 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 def render ( template : Template , values : dict [ str , str ], remove_comments : bool = True ) -> str : \"\"\" Render a template with the given values. Args: template: Parsed template values: Variable values to substitute remove_comments: Whether to remove HTML comments Returns: Rendered markdown string \"\"\" content = template . content # Temporarily replace comments to avoid Jinja2 parsing issues comments : list [ str ] = [] def save_comment ( match : re . Match ) -> str : comments . append ( match . group ( 0 )) return f \"__COMMENT_ { len ( comments ) - 1 } __\" escaped = COMMENT_PATTERN . sub ( save_comment , content ) # Render with custom delimiters for <variable> syntax env = Environment ( undefined = StrictUndefined , autoescape = False , keep_trailing_newline = True , variable_start_string = \"<\" , variable_end_string = \">\" , ) rendered = env . from_string ( escaped ) . render ( ** values ) # Handle comments if remove_comments : rendered = re . sub ( r \"__COMMENT_\\d+__\\s*\\n?\" , \"\" , rendered ) else : for i , comment in enumerate ( comments ): rendered = rendered . replace ( f \"__COMMENT_ { i } __\" , comment ) return rendered","title":"render"}]}